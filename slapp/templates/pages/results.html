{% extends "base.html" %}

{% load static %}

{% block content_no_sidebar %}
  <div class="flex-container">
    <div id="header">
      <h1>Zentrale Ergebnisse</h1>
      <p>Wähle eine Case Study</p>
    </div>
    <div id="regions-container">
      <div class="region-box">
        <h2>Oderland-Spree (Verbund)</h2>
        <img src="{% static 'images/Oderland-Spree.png' %}"
             alt="Karte Oderland-Spree Verbund" />
        <button class="select-button" onclick="showHiddenDiv('verbu', this)">Auswählen</button>
      </div>
      <div class="region-box">
        <h2>Oderland-Spree (Einzeln)</h2>
        <img src="{% static 'images/Oderland-Spree-single.png' %}"
             alt="Karte Oderland-Spree Einzeln" />
        <button class="select-button" onclick="showHiddenDiv('einzeln', this)">Auswählen</button>
      </div>
      <div class="region-box">
        <h2>Kiel</h2>
        <img src="{% static 'images/Kiel.png' %}" alt="Karte Kiel" />
        <button class="select-button" onclick="showHiddenDiv('kiel', this)">Auswählen</button>
      </div>
    </div>
    <div class="hidden-div">
      <div class="flex-container">
        <div id="electricity-chart"></div>
        <div id="hydrogen-chart"></div>
      </div>
      <div id="basic-solution">
        <h1>Basislösung</h1>
        <div class="flex-container" id="basic-charts">
          <div id="basic-electricity" class="chart-container"></div>
          <div id="basic-heat" class="chart-container"></div>
          <div id="basic-capacity" class="chart-container"></div>
          <div id="basic-costs" class="chart-container"></div>
        </div>
      </div>
      <div>
        <h1>Sensitivitäten</h1>
        <p>Hier kommt auch noch ein Intro-Text dazu.</p>
        <div class="image-toggle-container" id="tech-button">
          <button class="btn btn-transparent" onclick="showTechData()">
            <img src="{% static '/images/icons/dropdown.svg' %}"
                 alt="dropdown"
                 class="dropdown-icon" />
            Tech
          </button>
        </div>
        <div id="tech-charts">
          <div id="cost-capacity-chart"></div>
          <div id="another-chart">another chart</div>
        </div>
      </div>
      <div>
        <h1>Alternative Lösungen erkunden</h1>
        <p>
          Neben der obigen Basislösung haben wir zahlreiche alternative Wege zu einem erneuerbaren Energiesystem berechnet.
          Dafür haben wir den sogenannten Ansatz Modelling to Generate Alternatives (MGA) verwendet.
          Das bedeutet, dass für jede Technologie verschiedene Ausbaumöglichkeiten existieren, ohne dass die Gesamtsystemkosten
          stark von den Kosten der (optimalen) Basislösung abweichen. Die Alternativen sollten nicht mehr als 1-2 %
          günstiger oder teurer als die Basislösung sein.
          Der verstärkte Ausbau einer Technologie bei nahezu
          gleichbleibenden Kosten funktioniert natürlich nur, wenn andere Technologien dafür weniger stark wachsen.
          Das bedeutet, dass sich die Zusammensetzung des künftigen Energiesystems mit dem Fokus auf eine oder mehrere
          Technologien mehr oder weniger stark ändern muss, um im Kostenrahmen zu bleiben.
        </p>
        <div id="example">
          <h2>Beispiel</h2>
          <div class="flex-container">
            <img src="{% static '/images/icons/battery.svg' %}"
                 alt="battery icon"
                 id="battery-icon" />
            <div>
              Batteriespeicher: Statt X MWh in der Basislösung können Sie zusätzliche Speicherkapazitäten installieren.
              Das kostet Sie für diese Anlagen zwar mehr, kann jedoch an anderer Stelle Kosten sparen, da z.B. mehr am
              Tage gewonnene Energie in die Nachtstunden verschoben werden kann und damit weniger Photovoltaik und
              Windenergieanlagen erforderlich werden, um den Energiebedarf zu decken.
            </div>
          </div>
        </div>
        <div>
          <div class="scope-charts">
            <div class="plus_minus-container">
              <img src="{% static '/images/icons/plus_minus.svg' %}"
                   alt="plus_minus icon"
                   id="plus_minus-icon" />
              1 %
            </div>
            Hier charts +-1%
          </div>
          <div class="scope-charts">Hier charts +-2%</div>
        </div>
      </div>
    </div>
    <div>
      <a href="{{ home_url }}" class="btn btn-primary mt-3">Zur Hauptseite</a>
      <a href="{{ added_value_url }}" class="btn btn-primary mt-3">Zum Wertschöpfungsrechner</a>
    </div>
  </div>
{% endblock content_no_sidebar %}
{% block javascript %}
  {{ block.super }}
  <script>
    var chartData = JSON.parse('{{ chart_data|safe }}');
    var electricityChartData = chartData.electricity;
    var heatChartData = chartData.heat;
    var capacityChartData = chartData.capacity;
    var costsChartData = chartData.costs;
    var costCapacityData = JSON.parse('{{ cost_capacity|safe }}');
    console.log("costcapacity: " + costCapacityData);
  </script>
  <script src="{% static 'js/results.js' %}" defer></script>
{% endblock javascript %}
